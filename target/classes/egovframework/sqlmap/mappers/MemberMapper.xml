<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="etravis.service.impl.MemberMapper">

    <resultMap id="member" type="etravis.vo.MemberVO">
        <result property="emno" column="EMNO" />
        <result property="userid" column="USERID" />
        <result property="userpass" column="USERPASS" />
        <result property="username" column="USERNAME" />
        <result property="birth" column="BIRTH" />
        <result property="indate" column="INDATE" />
        <result property="intime" column="INTIME" />
    </resultMap>
    
	<insert id="register">
	    INSERT INTO ETRAVIS_MEMBER VALUES(
		    SEQ_EMNO.NEXTVAL,
		    #{userid},
		    #{userpass},
		    #{username},
		    #{birth},
		    TO_CHAR(SYSDATE,'YYYYMMDD'),
		    TO_CHAR(SYSDATE,'HH24MISS'))
	</insert>
	
	<select id="login" resultMap="member">
	    SELECT USERNAME
	    	FROM ETRAVIS_MEMBER
	    WHERE USERID = #{userid}
	   	AND USERPASS = #{userpass}
	</select>
</mapper>